<div class="category-list">
  <h2>List of Categories</h2>

  <!-- Formulaire pour ajouter une nouvelle catÃ©gorie -->
  <form (ngSubmit)="onSubmit()" #categoryForm="ngForm">
    <div>
      <label for="name">Name of category</label>
      <input type="text" id="name" required [(ngModel)]="newCategory.name" name="name">
    </div>
    <button type="submit" [disabled]="!categoryForm.form.valid">Add Category</button>
  </form>

  <!-- Message display -->
  <div *ngIf="message" class="message">
    {{ message }}
  </div>

  <ul>
    <li *ngFor="let category of categories">
      <span class="category-name">{{ category.name }}</span>
      <button (click)="startEditing(category)">Modify</button>
      <button (click)="deleteCategory(category.id_category)">Delete</button>
    
      <div *ngIf="editingCategory && editingCategory.id_category === category.id_category" class="edit-container">
        <input [(ngModel)]="editingCategory.name" placeholder="New category name"/>
        <button (click)="updateCategoryName()">Save</button>
        <button (click)="cancelEditing()">Cancel</button>
      </div>
    </li>
  </ul>
</div>