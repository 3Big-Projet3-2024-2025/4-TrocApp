<!-- user-edit.component.html -->
<div class="container mt-5">
  <h1 class="text-center mb-4">Modifier l'utilisateur</h1>
  <form>
      <div class="form-group">
          <label for="firstName">Prénom:</label>
          <input id="firstName" [(ngModel)]="editingUser.firstName" name="firstName" required class="form-control" />
      </div>
      <div class="form-group">
          <label for="lastName">Nom:</label>
          <input id="lastName" [(ngModel)]="editingUser.lastName" name="lastName" required class="form-control" />
      </div>
      <div class="form-group">
        <label for="city">City:</label>
        <select id="city" [(ngModel)]="editingUser.address.city" name="city" class="form-control" required>
          <option *ngFor="let city of cities" [value]="city">{{ city }}</option>
        </select>
      </div>
      
      <div class="form-group">
        <label for="street">Street:</label>
        <select id="street" [(ngModel)]="editingUser.address.street" name="street" class="form-control" required>
          <option *ngFor="let street of streets" [value]="street">{{ street }}</option>
        </select>
      </div>
      
      <div class="form-group">
        <label for="number">Number:</label>
        <select id="number" [(ngModel)]="editingUser.address.number" name="number" class="form-control" required>
          <option *ngFor="let number of numbers" [value]="number">{{ number }}</option>
        </select>
      </div>

      <div class="form-group">
          <label>Rôles:</label><br>
          <div class="roles-selection">
            @for (role of roleList | async; track $index)
            {
              <div class="role-item" >
                <input type="checkbox" [id]="'role-' + role.id" [checked]="isRoleSelected(role)" (change)="toggleRole(role)">
                <label [for]="'role-' + role.id">{{ role.name }}</label>
              </div>
             
            }  
          </div>
      
      </div>
      <div class="text-center">
          <button type="button" (click)="submitEditForm()" class="btn btn-primary">Sauvegarder</button>
          <button type="button" (click)="goBack()" class="btn btn-secondary">Retour</button>
      </div>
  </form>
  <div *ngIf="message" class="alert alert-success text-center mt-3" role="alert">
      {{ message }}
  </div>